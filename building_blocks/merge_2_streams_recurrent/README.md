# Merge 2 Streams Recurrently

Streaming MERGE_ITER = 8 sorted arrays (len = 32), merge them recurrently, and finally select the smallest 32 elements among all 8 * 32 elements

Repeat this process for NUM_LOOPS = 32 time

Each Unit (8 Recurrent):

17445 / 32 = 545.15 CC

Each iteration (1 Merge):

17445 / 32 / 8 = 68.14 CC -> Correct, merge requires 32 * 2 = 64 CC ideally

```
+ Timing:
    * Summary:
    +--------+---------+----------+------------+
    |  Clock |  Target | Estimated| Uncertainty|
    +--------+---------+----------+------------+
    |ap_clk  | 7.14 ns | 5.214 ns |   1.93 ns  |
    +--------+---------+----------+------------+

+ Latency:
    * Summary:
    +---------+---------+----------+----------+-------+-------+----------+
    |  Latency (cycles) |  Latency (absolute) |    Interval   | Pipeline |
    |   min   |   max   |    min   |    max   |  min  |  max  |   Type   |
    +---------+---------+----------+----------+-------+-------+----------+
    |    35939|    35939| 0.257 ms | 0.257 ms |  17445|  17445| dataflow |
    +---------+---------+----------+----------+-------+-------+----------+

    + Detail:
        * Instance:
        +----------------------------+---------------------------+---------+---------+-----------+-----------+-------+-------+---------+
        |                            |                           |  Latency (cycles) |   Latency (absolute)  |    Interval   | Pipeline|
        |          Instance          |           Module          |   min   |   max   |    min    |    max    |  min  |  max  |   Type  |
        +----------------------------+---------------------------+---------+---------+-----------+-----------+-------+-------+---------+
        |merge_filter_streams_32_U0  |merge_filter_streams_32_s  |    17444|    17444|  0.125 ms |  0.125 ms |  17444|  17444|   none  |
        |broadcast_stream_256_5_U0   |broadcast_stream_256_5     |     8459|     8459| 60.423 us | 60.423 us |   8459|   8459|   none  |
        |result_redirect_32_U0       |result_redirect_32_s       |     9441|     9441| 67.437 us | 67.437 us |   9441|   9441|   none  |
        |write_result_1024_U0        |write_result_1024_s        |     1032|     1032|  7.372 us |  7.372 us |   1032|   1032|   none  |
        +----------------------------+---------------------------+---------+---------+-----------+-----------+-------+-------+---------+

+---------------------+---------+-------+---------+---------+-----+
|         Name        | BRAM_18K| DSP48E|    FF   |   LUT   | URAM|
+---------------------+---------+-------+---------+---------+-----+
|DSP                  |        -|      -|        -|        -|    -|
|Expression           |        -|      -|        0|       16|    -|
|FIFO                 |        8|      -|      217|      316|    -|
|Instance             |        7|      0|     4124|     7119|    0|
|Memory               |        -|      -|        -|        -|    -|
|Multiplexer          |        -|      -|        -|        -|    -|
|Register             |        -|      -|        6|        -|    -|
+---------------------+---------+-------+---------+---------+-----+
|Total                |       15|      0|     4347|     7451|    0|
+---------------------+---------+-------+---------+---------+-----+
|Available SLR        |     1344|   3008|   869120|   434560|  320|
+---------------------+---------+-------+---------+---------+-----+
|Utilization SLR (%)  |        1|      0|    ~0   |        1|    0|
+---------------------+---------+-------+---------+---------+-----+
|Available            |     4032|   9024|  2607360|  1303680|  960|
+---------------------+---------+-------+---------+---------+-----+
|Utilization (%)      |    ~0   |      0|    ~0   |    ~0   |    0|
+---------------------+---------+-------+---------+---------+-----+

+ Detail:
    * Instance:
    +----------------------------+---------------------------+---------+-------+------+------+-----+
    |          Instance          |           Module          | BRAM_18K| DSP48E|  FF  |  LUT | URAM|
    +----------------------------+---------------------------+---------+-------+------+------+-----+
    |broadcast_stream_256_5_U0   |broadcast_stream_256_5     |        1|      0|   103|   299|    0|
    |merge_filter_streams_32_U0  |merge_filter_streams_32_s  |        2|      0|   342|   687|    0|
    |result_redirect_32_U0       |result_redirect_32_s       |        0|      0|    50|   280|    0|
    |vadd_control_s_axi_U        |vadd_control_s_axi         |        0|      0|  2486|  4520|    0|
    |vadd_gmem32_m_axi_U         |vadd_gmem32_m_axi          |        2|      0|   512|   580|    0|
    |vadd_gmem34_m_axi_U         |vadd_gmem34_m_axi          |        2|      0|   512|   580|    0|
    |write_result_1024_U0        |write_result_1024_s        |        0|      0|   119|   173|    0|
    +----------------------------+---------------------------+---------+-------+------+------+-----+
    |Total                       |                           |        7|      0|  4124|  7119|    0|
    +----------------------------+---------------------------+---------+-------+------+------+-----+
```